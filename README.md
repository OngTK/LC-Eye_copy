-----

# ğŸ‘€ LC-Eye â€“ ê²½ëŸ‰í˜• LCI(Life Cycle Inventory) ê³„ì‚° ì‹œìŠ¤í…œ

> **Redis Pub/Sub ê¸°ë°˜ì˜ ë‹¤ì¤‘ ì„œë²„ ì•„í‚¤í…ì²˜ì™€ React í”„ë¡ íŠ¸ì—”ë“œë¥¼ ë„ì…í•œ í™˜ê²½ì˜í–¥í‰ê°€ í”Œë«í¼** <br>
> ğŸ”— [í”„ë¡œì íŠ¸ ë…¸ì…˜ ë°”ë¡œê°€ê¸°](https://lceye.notion.site/LC-Eye-2a2094d4983480369aa4fe1a6163688f) <br>
> ğŸ”— ë‹¨ì¼ ì„œë²„ìš© GitHub [GitHub ë°”ë¡œê°€ê¸°](https://github.com/JeonghoonAHN0510/LC-Eye) <br>
> ğŸ”— ë‹¤ì¤‘ ì„œë²„ìš© GitHub [Back_Member](https://github.com/JeonghoonAHN0510/LC-Eye_Member) &nbsp;|&nbsp; [Back_Project](https://github.com/JeonghoonAHN0510/LC-Eye_Project) &nbsp;|&nbsp; [React](https://github.com/JeonghoonAHN0510/LC-Eye_React) &nbsp;|&nbsp; [Flutter](https://github.com/msh-94/lc_eye_project) <br>

-----

## ğŸ§­ í”„ë¡œì íŠ¸ ê°œìš”

**LC-Eye**ëŠ” ì œí’ˆÂ·ê³µì • ë‹¨ìœ„ì˜ íˆ¬ì…ë¬¼Â·ì‚°ì¶œë¬¼ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í™˜ê²½ë¶€í•˜ë¥¼ ì •ëŸ‰í™”í•˜ëŠ” íˆ´ì…ë‹ˆë‹¤.
ì„œë¹„ìŠ¤ì˜ í™•ì¥ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì´ê¸° ìœ„í•´ \*\*Member Server(íšŒì›/ì¸ì¦)\*\*ì™€ \*\*Project Server(ê³„ì‚°/ê´€ë¦¬)\*\*ë¡œ ë°±ì—”ë“œë¥¼ ë¶„ë¦¬í•˜ì˜€ìœ¼ë©°, **Redis Pub/Sub**ë¥¼ í†µí•´ ì„œë²„ ê°„ ë°ì´í„° ì •í•©ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.

í”„ë¡ íŠ¸ì—”ë“œëŠ” **React**ë¡œ êµ¬ì¶•í•˜ì—¬ SPA(Single Page Application) ê¸°ë°˜ì˜ ëŠê¹€ ì—†ëŠ” ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•˜ë©°, ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ì™€ ì‹¤ì‹œê°„ ìƒí˜¸ì‘ìš©ì— ìµœì í™”ëœ ì•„í‚¤í…ì²˜ë¥¼ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.

  - **ê°œë°œê¸°ê°„:** 2025.11.05 \~ 2025.11.27 (3ì£¼)
  - **íŒ€ëª…:** LC-Eye
  - **ì¸ì›:** 3ëª…
    - ì˜¹íƒœê²½ - **íŒ€ì¥** / LCI ê³„ì‚° ë¡œì§ / S3 íŒŒì¼ ì²˜ë¦¬ / Front ì´ê´„ / ë°œí‘œ
    - ë¯¼ì„±í˜¸ - **JSON ì¶”ì²œ ë¡œì§** / íˆ¬ì…ë¬¼Â·ì‚°ì¶œë¬¼Â·process ë¡œì§ / Flutter ì´ê´„
    - ì•ˆì •í›ˆ - **MSA ê¸°ë°˜ ì„œë²„ ë¶„ë¦¬** / ì„œë²„ ê°„ í†µì‹  / Redisson ë¶„ì‚° ë½ / ë²„ì „ ê´€ë¦¬ / Front ê³µí†µ ë ˆì´ì•„ì›ƒ

-----

## ğŸš€ í•µì‹¬ ëª©í‘œ

| êµ¬ë¶„ | ì„¤ëª… |
|------|------|
| â˜ï¸ **í•˜ì´ë¸Œë¦¬ë“œ ìŠ¤í† ë¦¬ì§€** | ë©”íƒ€ë°ì´í„°(MySQL)ì™€ ëŒ€ìš©ëŸ‰ Flow ë°ì´í„°(AWS S3)ë¥¼ ë¶„ë¦¬ ì €ì¥í•˜ì—¬ ì„±ëŠ¥ ìµœì í™” |
| ğŸ—ï¸ **ë‹¤ì¤‘ ì„œë²„ êµ¬ì¶•** | `Member`(8080)ì™€ `Project`(8081) ì„œë²„ ë¶„ë¦¬ë¥¼ í†µí•´ ë„ë©”ì¸ë³„ ë…ë¦½ì„± ë° í™•ì¥ì„± í™•ë³´ |
| ğŸ“¡ **ë¹„ë™ê¸° í†µì‹  ë™ê¸°í™”** | Redis Pub/Subë¥¼ í™œìš©í•˜ì—¬ ë¶„ë¦¬ëœ ì„œë²„ ê°„ ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—°ë™ (CompletableFuture í™œìš©) |
| ğŸ”’ **ë¶„ì‚° í™˜ê²½ ë°ì´í„° ì •í•©ì„±** | Redisson ë¶„ì‚° ë½ì„ ë„ì…í•˜ì—¬ ë‹¤ì¤‘ ì„œë²„ í™˜ê²½ì—ì„œì˜ ë™ì‹œì„± ë¬¸ì œ(Race Condition) í•´ê²° |

-----

## âš™ï¸ ê°œë°œí™˜ê²½

| ë¶„ë¥˜ | ê¸°ìˆ  ìŠ¤íƒ |
|------|-------------|
| **Frontend** | **React**, **Flutter**, JavaScript, CSS |
| **Backend (Member)** | Java 17, Spring Boot, Spring Security (Auth/JWT) |
| **Backend (Project)** | Java 17, Spring Boot, **Redisson** (Distributed Lock) |
| **Middleware** | **Redis** (Pub/Sub, Session, Cache) |
| **Database** | MySQL (RDB), AWS S3 (JSON Storage) |
| **Collaboration** | GitHub, Notion |

-----

## ğŸ§± ì•„í‚¤í…ì²˜ ê°œìš”

### ğŸ—‚ Multi-Server Architecture

ì‹œìŠ¤í…œì€ ê¸°ëŠ¥ì  ì‘ì§‘ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ ë‘ ê°œì˜ ë…ë¦½ëœ Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

1.  **Client (React / Flutter Server):** ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë‹´ë‹¹, API Gateway ì—­í•  ì—†ì´ ê° ì„œë²„ API í˜¸ì¶œ (CORS ì„¤ì •)
2.  **Member Server (Port 8080):** íšŒì›ê°€ì…, ë¡œê·¸ì¸(JWT ë°œê¸‰), íšŒì‚¬ ì •ë³´ ê´€ë¦¬, ê¶Œí•œ ì¸ì¦ ë‹´ë‹¹
3.  **Project Server (Port 8081):** í”„ë¡œì íŠ¸ ìƒì„±, LCI ê³„ì‚°, íˆ¬ì…/ì‚°ì¶œë¬¼ ê´€ë¦¬, ì—‘ì…€ ë¦¬í¬íŒ… ë‹´ë‹¹
4.  **Redis (Message Broker):** ë‘ ì„œë²„ ê°„ì˜ ë°ì´í„° êµí™˜ ë° ë¶„ì‚° ë½ ê´€ë¦¬

### ğŸ”„ Inter-Service Communication (Redis Pub/Sub)

HTTP í†µì‹  ëŒ€ì‹  **Redis Pub/Sub**ë¥¼ ì‚¬ìš©í•˜ì—¬ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ ê²°í•©ë„ë¥¼ ë‚®ì·„ìŠµë‹ˆë‹¤.

  * **ìš”ì²­ íë¦„:** Project ì„œë²„ì—ì„œ íšŒì› ì •ë³´ í•„ìš” ì‹œ â†’ `member-request` ì±„ë„ ë°œí–‰
  * **ì‘ë‹µ íë¦„:** Member ì„œë²„ì—ì„œ êµ¬ë… ì¤‘ ë©”ì‹œì§€ ìˆ˜ì‹  â†’ DB ì¡°íšŒ í›„ `member-response` ì±„ë„ë¡œ ì‘ë‹µ
  * **ë™ê¸°í™” ì²˜ë¦¬:** `CompletableFuture`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° ì‘ë‹µì„ ë™ê¸° ìš”ì²­ì²˜ëŸ¼ ì²˜ë¦¬, API ì‘ë‹µ ì†ë„ ë³´ì¥

-----

## ğŸ§© ì£¼ìš” ê¸°ëŠ¥

### ğŸ–¥ï¸ Frontend (React)

  * **ê´€ë¦¬ì/ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ:** `src/admin` ë° `src/user` ë””ë ‰í† ë¦¬ êµ¬ì¡°í™”ë¥¼ í†µí•œ ì—­í• ë³„ UI ë¶„ë¦¬
  * **ì‹¤ì‹œê°„ ë°ì´í„° ì—°ë™:** Axios ì¸í„°ì…‰í„°ë¥¼ í™œìš©í•œ JWT í† í° ìë™ ê´€ë¦¬ ë° API ìš”ì²­ ìµœì í™”
  * **ë™ì  UI ì»´í¬ë„ŒíŠ¸:** ë“œë˜ê·¸ ì•¤ ë“œë¡­, ë¦¬ì‚¬ì´ì§• ê°€ëŠ¥í•œ ë ˆì´ì–´ (`dragResizeLayer.css`) ë° ë°˜ì‘í˜• í…Œì´ë¸” êµ¬í˜„

### ğŸ–¥ï¸ Frontend (Flutter)

  * **ê°„ë‹¨ í”„ë¡œì íŠ¸ ì¡°íšŒ:** í”„ë¡œì íŠ¸ ì „ì²´Â·ê°œë³„ ì¡°íšŒ ê°€ëŠ¥

### ğŸ‘¤ Member Server (8080)

  * **í†µí•© ì¸ì¦ ì‹œìŠ¤í…œ:** JWT ê¸°ë°˜ì˜ ë¡œê·¸ì¸ ì¸ì¦ ë° ê¶Œí•œ ë¶€ì—¬
  * **MSA ë°ì´í„° ì œê³µ:** Project ì„œë²„ì˜ ìš”ì²­ì— ëŒ€í•´ íšŒì›/íšŒì‚¬ ì •ë³´ë¥¼ ì¡°íšŒí•˜ì—¬ ë°˜í™˜í•˜ëŠ” ë‚´ë¶€ API ì²˜ë¦¬

### ğŸ­ Project Server (8081)

  * **LCI ê³„ì‚° ì—”ì§„:** í”„ë¡œì íŠ¸ë³„ íˆ¬ì…/ì‚°ì¶œë¬¼(JSON)ì„ íŒŒì‹±í•˜ì—¬ í™˜ê²½ì˜í–¥í‰ê°€ ê²°ê³¼ ìë™ ì‚°ì¶œ
  * **ìë™ ë§¤ì¹­ ì„œë¹„ìŠ¤:** ì‚¬ìš©ìê°€ ì…ë ¥í•œ ìì¬ëª…ì„ ì˜ë¬¸ ë²ˆì—­(DeepL) í›„ DBì™€ ìœ ì‚¬ë„ ë§¤ì¹­(Jaro-Winkler)
  * **ë¶„ì‚° ë½ ì ìš©:** í”„ë¡œì íŠ¸ ìˆ˜ì • ë° ê³„ì‚° ë¡œì§ì— `@DistributedLock`ì„ ì ìš©í•˜ì—¬ ë°ì´í„° ë®ì–´ì“°ê¸° ë°©ì§€

-----

## ğŸ—ƒï¸ ë°ì´í„° ëª¨ë¸ë§ ë° í†µì‹  êµ¬ì¡°

### ğŸ“¡ Redis Pub/Sub í†µì‹  ì‹œí€€ìŠ¤

```mermaid
sequenceDiagram
    participant React as Client (React / Flutter)
    participant Project as Project Server (8081)
    participant Redis as Redis (Broker)
    participant Member as Member Server (8080)

    Note over React, Project: 1. í”„ë¡œì íŠ¸ ì¡°íšŒ ìš”ì²­
    React->>Project: GET /api/project/1

    Note over Project: ì‘ì„±ì ì •ë³´ í•„ìš”
    Project->>Redis: PUBLISH "member-request" {mno: 101}
    
    Note over Member: ë©”ì‹œì§€ ìˆ˜ì‹ 
    Redis->>Member: onMessage()
    Member->>Member: DB ì¡°íšŒ (MemberEntity)
    Member->>Redis: PUBLISH "member-response" {name: "í™ê¸¸ë™", ...}

    Note over Project: ì •ë³´ ë³‘í•© ë° ì‘ë‹µ
    Redis->>Project: onMessage()
    Project-->>React: Project DTO + Member Info ë°˜í™˜
```

-----

## ğŸ” ì½”ë“œ êµ¬ì¡° (Multi-Module)

```bash
Root/
â”œâ”€â”€ LC-Eye_Member/          # [Server 1] íšŒì› ë° ì¸ì¦ ì „ë‹´ (8080)
â”‚   â”œâ”€â”€ src/main/java/lceye/
â”‚   â”‚   â”œâ”€â”€ controller/MemberController.java
â”‚   â”‚   â”œâ”€â”€ service/MemberService.java
â”‚   â”‚   â””â”€â”€ config/SecurityConfig.java
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ LC-Eye_Project/         # [Server 2] í”„ë¡œì íŠ¸ ë° ê³„ì‚° ì „ë‹´ (8081)
â”‚   â”œâ”€â”€ src/main/java/lceye/
â”‚   â”‚   â”œâ”€â”€ controller/ProjectController.java
â”‚   â”‚   â”œâ”€â”€ service/LCICalculateService.java
â”‚   â”‚   â””â”€â”€ util/aop/DistributedLockAspect.java
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ src/                    # [Frontend] React Application
    â”œâ”€â”€ admin/              # ê´€ë¦¬ì í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
    â”œâ”€â”€ assets/             # CSS, ì´ë¯¸ì§€ ë¦¬ì†ŒìŠ¤
    â”œâ”€â”€ App.jsx             # ë¼ìš°íŒ… ë° ë©”ì¸ ì§„ì…ì 
    â””â”€â”€ main.jsx            # React DOM ë Œë”ë§
```

-----

## ğŸ§° íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ìš”ì•½

| ë¬¸ì œ ìƒí™© | ì›ì¸ | í•´ê²° ë°©ë²• |
|:---:|:---:|:---|
| **íƒœê²½ë‹˜** | íŠ¸ëŸ¬ë¸” ìŠˆíŒ… ë‚´ìš© | í•´ê²° ë‚´ìš© |
| **ì„±í˜¸ë‹˜** | íŠ¸ëŸ¬ë¸” ìŠˆíŒ… ë‚´ìš© | í•´ê²° ë‚´ìš© |
| **ì •í›ˆ** | íŠ¸ëŸ¬ë¸” ìŠˆíŒ… ë‚´ìš© | í•´ê²° ë‚´ìš© |

-----

## ğŸ§­ í–¥í›„ ê°œë°œ ê³„íš

| êµ¬ë¶„ | ë‚´ìš© |
|------|------|
| ğŸ•¸ï¸ **ê°œë°œ ê³„íš ìƒê°í•˜ê¸°** | ê°œë°œ ê³„íš1 |
| ğŸ³ **ê°œë°œ ê³„íš ìƒê°í•˜ê¸°** | ê°œë°œ ê³„íš2 |

-----

## ğŸ í”„ë¡œì íŠ¸ í›„ê¸°

> "ëª¨ë†€ë¦¬ì‹ êµ¬ì¡°ë¥¼ **Multi-Server ì•„í‚¤í…ì²˜ë¡œ ë¶„ë¦¬**í•˜ì—¬, ì„œë¹„ìŠ¤ ê°„ì˜ ê²°í•©ë„ëŠ” ë‚®ì¶”ê³  ì‚¬ìš©ì ê²½í—˜ì€ ë†’ì´ëŠ” ì„±ê³¼ë¥¼ ê±°ë‘ì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ Redisë¥¼ ë‹¨ìˆœ ìºì‹œê°€ ì•„ë‹Œ **Message Broker**ë¡œ í™œìš©í•˜ì—¬ MSA í†µì‹  íŒ¨í„´ì„ ì§ì ‘ êµ¬í˜„í•´ë³¸ ê°’ì§„ ê²½í—˜ì´ì—ˆìŠµë‹ˆë‹¤."
>
> **- LC-Eye ê°œë°œíŒ€**
